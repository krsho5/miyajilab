#include <time.h>
#include <sys/time.h>
#include "test.h"
#include <gmp.h>

/*2^l with p224, p256, p384*/
#define P_192_2l "39402006196394479212279040100143613805079739270465446667948293404245721771497210611414266254884915640806627990306816"
#define P_224_2l "726838724295606890549323807888004534353641360687318060281490199180639288113397923326191050713763565560762521606266177933534601628614656"
#define P_256_2l "13407807929942597099574024998205846127479365820592393377723561443721764030073546976801874298166903427690031858186486050853753882811946569946433649006084096"
#define P_384_2l "1552518092300708935148979488462502555256886017116696611139052038026050952686376886330878408828646477950487730697131073206171580044114814391444287275041181139204454976020849905550265285631598444825262999193716468750892846853816057856"
#define P_512_2l "179769313486231590772930519078902473361797697894230657273430081157732675805500963132708477322407536021120113879871393357658789768814416622492847430639474124377767893424865485276302219601246094119453082952085005768838150682342462881473913110540827237163350510684586298239947245938479716304835356329624224137216"
/*The number of pre_com 2^(-l) mod p*/
#define P_192_pre_com "680564733841876926908302470789826871294"
#define P_224_pre_com "18831305204698540654176465351577770740545525012632715657217"
#define P_256_pre_com "161759680002903838760694582340907787320905632487091026015073739997175"
#define P_384_pre_com "39401997719623594004609818748773390158923402225834345130666249913583939917682844212927918355281735000658345862363656"
#define P_512_pre_com "104174602983677100090188404798997345435175366322587289367637992126922563506503570441557461874283519919404476999295620665941816345906030878912480330037339671"

int main(){
    mpz_t result,a,p,b;
    mpz_init(result);
    mpz_init_set_str(a, "2", 10);
    mpz_init_set_str(p, P_192, 10);
    unsigned long int l;
    l=382;
    // mpz_pow_ui(result, a, l);
    // gmp_printf("2^l = %Zd\n",result); 
    // mpz_invert(result, result, p);
    // gmp_printf("2^(-l) = %Zd\n",result);
    // mpz_init_set_str(b, "0", 10);
    mpz_ior(result,p,b);
    gmp_printf("p or b = %Zd\n", result);
    
    // mpz_invert(result, a, p);
    // gmp_printf("逆元=%Zd\n", result);
    mpz_clear(a); mpz_clear(p); mpz_clear(result);mpz_clear(b);


    
}